/*! YOOtheme Pro v2.4.6 | https://yootheme.com */
!function(e,r){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t,n){return(x=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&i(r,n.prototype),r}).apply(null,arguments)}function k(e){r.$$(".el-item",e).forEach(function(e){return r.$$("script",e.parentNode).forEach(function(e){var t=r.$("<script>");t.textContent=e.textContent,e.parentNode.replaceChild(t,e)})})}function n(e,t){v(t.baseUrl+"/leaflet.css").then(function(){return function(e,t){var n=t.type,o=t.center,r=t.zoom,i=t.min_zoom,a=t.max_zoom,s=t.zooming,l=t.dragging,c=t.clustering,p=t.cluster_icons,u=t.controls,m=t.markers,d=t.popup_max_width,g=t.baseUrl,f=t.clusterBaseUrl;L.Icon.Default.imagePath=g+"/images/";var h,y=L.map(e,{zoom:r,minZoom:Number(i),maxZoom:Number(a),center:o,dragging:l,zoomControl:u,touchZoom:s,scrollWheelZoom:s,doubleClickZoom:s});y.on("popupopen",function(){return k(e)}),"satellite"===n?L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:'&copy; <a href="https://www.esri.com">Esri</a> | DigitalGlobe, GeoEye, i-cubed, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community'}).addTo(y):L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a>'}).addTo(y);{var w;c&&(w={showCoverageOnHover:!1},p&&(w.iconCreateFunction=function(e){var t=e.getChildCount(),n=t<10?p[0]:t<100?p[1]||p[0]:p[2]||p[1]||p[0],o=n.textColor?'style="color: '+n.textColor+'"':"";return new L.DivIcon({html:'<img src="'+n.url+'" alt><span class="uk-position-center"'+o+">"+t+"</span>",iconSize:n.size?x(L.Point,n.size):null})}),h=L.markerClusterGroup(w),y.addLayer(h),v(f+"/MarkerCluster.css"),v(f+"/MarkerCluster.Default.css"))}m&&m.forEach(function(e){var t,n,o=e.lat,r=e.lng,i=e.content,a=e.show_popup,s=e.icon,l=e.iconSize,c=e.iconAnchor,p=L.marker({lat:o,lng:r});s&&p.setIcon(L.icon({iconUrl:s,iconSize:l,iconAnchor:c})),h?h.addLayer(p):p.addTo(y),i&&(t={maxWidth:d?parseInt(d,10):300},l&&(t.offset=new L.Point(0,-1*l[1]+7)),n=L.popup(t).setContent(i),p.bindPopup(n),a&&p.openPopup())})}(e,t)}),r.append(document.head,"<style>.leaflet-div-icon {\n        background: transparent;\n        border: none;\n    }</style>")}function v(t){return r.$('link[href="'+t+'"]')?r.Promise.resolve():new r.Promise(function(e){return r.once(r.append(document.head,'<link href="'+t+'" rel="stylesheet">'),"load",e)})}t(e).default.component("map",{connected:function(){var n,o=this;this.script=this.script||r.$("script",this.$el),this.script&&(this.map=JSON.parse(this.script.textContent),n=r.$$("template",this.$el),this.map.markers.forEach(function(e,t){e.content=n[t].innerHTML.trim(),!e.icon&&o.map.icon&&(e.icon=o.map.icon,e.iconSize=o.map.iconSize,e.iconAnchor=o.map.iconAnchor)}),requestAnimationFrame(function(){o.map.lazyload&&"IntersectionObserver"in window?new IntersectionObserver(function(e,t){e.some(function(e){return e.isIntersecting})&&(o.load(),t.disconnect())},{rootMargin:window.innerHeight/2+"px 0px"}).observe(o.$el):o.load()}))},methods:{load:function(){var e;null!=(e=window.google)&&e.maps?function(e,t){var p,n,u,o=t.type,r=t.center,i=t.zoom,a=t.min_zoom,s=t.max_zoom,l=t.zooming,c=t.dragging,m=t.clustering,d=t.cluster_icons,g=t.controls,f=t.markers,h=t.styler_invert_lightness,y=t.styler_hue,w=t.styler_saturation,v=t.styler_lightness,_=t.styler_gamma,z=t.popup_max_width,C=new google.maps.LatLng(r.lat,r.lng),b=new google.maps.Map(e,{zoom:Number(i),minZoom:Number(a),maxZoom:Number(s),center:C,mapTypeId:google.maps.MapTypeId[o.toUpperCase()],disableDefaultUI:!g,gestureHandling:c||l?"auto":"none"}),L=new google.maps.InfoWindow({maxWidth:z?parseInt(z,10):300});L.addListener("domready",function(){return k(e)}),m&&d&&(n="string"==typeof d?{imagePath:d}:{styles:d.map(function(e){var t=e.url,n=e.size,o=e.textColor;return MarkerClusterer.withDefaultStyle(n?{url:t,width:n[0],height:n[1],textColor:o||null}:{url:t})})},u=new MarkerClusterer(b,[],n)),f&&f.forEach(function(e){var t,n=e.lat,o=e.lng,r=e.content,i=e.show_popup,a=e.icon,s=e.iconSize,l=e.iconAnchor,c=new google.maps.Marker({map:b,position:new google.maps.LatLng(n,o)});a&&c.setIcon({url:a,size:s?x(google.maps.Size,s):null,anchor:l?x(google.maps.Point,l):null}),u&&u.addMarker(c),r&&(t=function(){L.getMap()&&p===c?L.close():(L.setContent(r),L.open(b,c),p=c)},google.maps.event.addListener(c,"click",t),i&&t())});var I=new google.maps.StyledMapType([{featureType:"all",elementType:"all",stylers:[{invert_lightness:h},{hue:y},{saturation:w},{saturation:w},{lightness:v},{gamma:_}]},{featureType:"poi",stylers:[{visibility:"off"}]}],{name:"Styled"});b.mapTypes.set("styled_map",I),"ROADMAP"===o.toUpperCase()&&b.setMapTypeId("styled_map")}(this.$el,this.map):window.L&&n(this.$el,this.map)}}})}(UIkit,UIkit.util);
